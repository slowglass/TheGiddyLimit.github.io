window.addEventListener("load",async()=>{const a=UrlUtil.getCurrentPage();let[b,c]=a.replace(/\.html$/i,"").replace(/~S/g,"/").replace(/~Q/g,`"`).split("__");c=encodeURIComponent(c);const[d,e]=c.split("_");Renderer.get().setBaseUrl("/");const f=await Renderer.hover.pCacheAndGet(`${b}.html`,e,c);document.title=`${f.name} - 5etools`,$(`.page__title`).text(`${b.toTitleCase()}: ${f.name}`),$(`<div class="col-12 flex-vh-center my-2"><a href="/${b}.html">Back to ${b.toTitleCase()}</a></div>`).appendTo($(`#link-page`));const g=$(`#pagecontent`).empty();switch(b){case"spells":g.append(RenderSpells.$getRenderedSpell(f,{}));break;case"bestiary":{Renderer.utils.bindPronounceButtons();const a={};await RenderBestiary.pPopulateMetaAndLanguages(a,{}),g.append(RenderBestiary.$getRenderedCreature(f,a)),$(`.mon__name--token`).css({paddingRight:5});break}case"items":g.append(RenderItems.$getRenderedItem(f));break;case"races":{Renderer.utils.bindPronounceButtons();break}}});